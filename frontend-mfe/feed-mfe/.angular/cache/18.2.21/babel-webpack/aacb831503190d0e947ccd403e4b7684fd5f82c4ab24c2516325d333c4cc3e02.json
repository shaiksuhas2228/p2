{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/feed.service\";\nimport * as i2 from \"@angular/common\";\nfunction FeedComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 6);\n    i0.…µ…µtext(1, \" Loading posts... \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction FeedComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 7);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction FeedComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 8);\n    i0.…µ…µtext(1, \" No posts available. Start following users to see their posts! \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction FeedComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"strong\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"small\", 11);\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"p\");\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"div\", 12)(9, \"span\");\n    i0.…µ…µtext(10);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"span\");\n    i0.…µ…µtext(12);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r2 = ctx.$implicit;\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(post_r2.username);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r0.formatDate(post_r2.createdAt));\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(post_r2.content);\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\\u2764\\uFE0F \", post_r2.likes, \" likes\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\\uD83D\\uDCAC \", post_r2.comments, \" comments\");\n  }\n}\nfunction FeedComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 13);\n    i0.…µ…µlistener(\"click\", function FeedComponent_button_7_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r3);\n      const ctx_r0 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r0.loadMore());\n    });\n    i0.…µ…µtext(1, \" Load More \");\n    i0.…µ…µelementEnd();\n  }\n}\nexport let FeedComponent = /*#__PURE__*/(() => {\n  class FeedComponent {\n    constructor(feedService) {\n      this.feedService = feedService;\n      this.posts = [];\n      this.loading = false;\n      this.error = '';\n      this.currentPage = 0;\n    }\n    ngOnInit() {\n      this.loadFeed();\n    }\n    loadFeed() {\n      this.loading = true;\n      this.error = '';\n      this.feedService.getFeed(this.currentPage).subscribe({\n        next: response => {\n          this.posts = [...this.posts, ...response.posts];\n          this.loading = false;\n        },\n        error: err => {\n          this.error = 'Failed to load feed. Please check if you are logged in.';\n          this.loading = false;\n          console.error('Feed error:', err);\n        }\n      });\n    }\n    loadMore() {\n      this.currentPage++;\n      this.loadFeed();\n    }\n    formatDate(dateString) {\n      return new Date(dateString).toLocaleDateString();\n    }\n    static {\n      this.…µfac = function FeedComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || FeedComponent)(i0.…µ…µdirectiveInject(i1.FeedService));\n      };\n    }\n    static {\n      this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n        type: FeedComponent,\n        selectors: [[\"app-feed\"]],\n        standalone: true,\n        features: [i0.…µ…µStandaloneFeature],\n        decls: 8,\n        vars: 5,\n        consts: [[2, \"padding\", \"2rem\"], [\"style\", \"text-align: center; padding: 2rem;\", 4, \"ngIf\"], [\"style\", \"color: red; padding: 1rem; background: #ffe6e6; border-radius: 4px;\", 4, \"ngIf\"], [\"style\", \"text-align: center; padding: 2rem; color: #666;\", 4, \"ngIf\"], [\"style\", \"border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 8px;\", 4, \"ngFor\", \"ngForOf\"], [\"style\", \"width: 100%; padding: 1rem; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;\", 3, \"click\", 4, \"ngIf\"], [2, \"text-align\", \"center\", \"padding\", \"2rem\"], [2, \"color\", \"red\", \"padding\", \"1rem\", \"background\", \"#ffe6e6\", \"border-radius\", \"4px\"], [2, \"text-align\", \"center\", \"padding\", \"2rem\", \"color\", \"#666\"], [2, \"border\", \"1px solid #ddd\", \"padding\", \"1rem\", \"margin-bottom\", \"1rem\", \"border-radius\", \"8px\"], [2, \"display\", \"flex\", \"justify-content\", \"space-between\", \"align-items\", \"center\", \"margin-bottom\", \"0.5rem\"], [2, \"color\", \"#666\"], [2, \"display\", \"flex\", \"gap\", \"1rem\", \"margin-top\", \"1rem\", \"color\", \"#666\"], [2, \"width\", \"100%\", \"padding\", \"1rem\", \"background\", \"#007bff\", \"color\", \"white\", \"border\", \"none\", \"border-radius\", \"4px\", \"cursor\", \"pointer\", 3, \"click\"]],\n        template: function FeedComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.…µ…µelementStart(0, \"div\", 0)(1, \"h1\");\n            i0.…µ…µtext(2, \"Feed\");\n            i0.…µ…µelementEnd();\n            i0.…µ…µtemplate(3, FeedComponent_div_3_Template, 2, 0, \"div\", 1)(4, FeedComponent_div_4_Template, 2, 1, \"div\", 2)(5, FeedComponent_div_5_Template, 2, 0, \"div\", 3)(6, FeedComponent_div_6_Template, 13, 5, \"div\", 4)(7, FeedComponent_button_7_Template, 2, 0, \"button\", 5);\n            i0.…µ…µelementEnd();\n          }\n          if (rf & 2) {\n            i0.…µ…µadvance(3);\n            i0.…µ…µproperty(\"ngIf\", ctx.loading);\n            i0.…µ…µadvance();\n            i0.…µ…µproperty(\"ngIf\", ctx.error);\n            i0.…µ…µadvance();\n            i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.posts.length === 0);\n            i0.…µ…µadvance();\n            i0.…µ…µproperty(\"ngForOf\", ctx.posts);\n            i0.…µ…µadvance();\n            i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.posts.length > 0);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, HttpClientModule],\n        encapsulation: 2\n      });\n    }\n  }\n  return FeedComponent;\n})();","map":{"version":3,"names":["CommonModule","HttpClientModule","i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µadvance","…µ…µtextInterpolate1","ctx_r0","error","…µ…µtextInterpolate","post_r2","username","formatDate","createdAt","content","likes","comments","…µ…µlistener","FeedComponent_button_7_Template_button_click_0_listener","…µ…µrestoreView","_r3","…µ…µnextContext","…µ…µresetView","loadMore","FeedComponent","constructor","feedService","posts","loading","currentPage","ngOnInit","loadFeed","getFeed","subscribe","next","response","err","console","dateString","Date","toLocaleDateString","…µ…µdirectiveInject","i1","FeedService","selectors","standalone","features","…µ…µStandaloneFeature","decls","vars","consts","template","FeedComponent_Template","rf","ctx","…µ…µtemplate","FeedComponent_div_3_Template","FeedComponent_div_4_Template","FeedComponent_div_5_Template","FeedComponent_div_6_Template","FeedComponent_button_7_Template","…µ…µproperty","length","i2","NgForOf","NgIf","encapsulation"],"sources":["c:\\Users\\ramee\\Downloads\\RevHubTeam7final\\RevHub\\frontend-mfe\\feed-mfe\\src\\app\\feed\\feed.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FeedService, Post } from '../services/feed.service';\n\n@Component({\n  selector: 'app-feed',\n  standalone: true,\n  imports: [CommonModule, HttpClientModule],\n  template: `\n    <div style=\"padding: 2rem;\">\n      <h1>Feed</h1>\n      <div *ngIf=\"loading\" style=\"text-align: center; padding: 2rem;\">\n        Loading posts...\n      </div>\n      <div *ngIf=\"error\" style=\"color: red; padding: 1rem; background: #ffe6e6; border-radius: 4px;\">\n        {{ error }}\n      </div>\n      <div *ngIf=\"!loading && posts.length === 0\" style=\"text-align: center; padding: 2rem; color: #666;\">\n        No posts available. Start following users to see their posts!\n      </div>\n      <div *ngFor=\"let post of posts\" style=\"border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 8px;\">\n        <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;\">\n          <strong>{{ post.username }}</strong>\n          <small style=\"color: #666;\">{{ formatDate(post.createdAt) }}</small>\n        </div>\n        <p>{{ post.content }}</p>\n        <div style=\"display: flex; gap: 1rem; margin-top: 1rem; color: #666;\">\n          <span>‚ù§Ô∏è {{ post.likes }} likes</span>\n          <span>üí¨ {{ post.comments }} comments</span>\n        </div>\n      </div>\n      <button \n        *ngIf=\"!loading && posts.length > 0\" \n        (click)=\"loadMore()\" \n        style=\"width: 100%; padding: 1rem; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;\">\n        Load More\n      </button>\n    </div>\n  `\n})\nexport class FeedComponent implements OnInit {\n  posts: Post[] = [];\n  loading = false;\n  error = '';\n  currentPage = 0;\n\n  constructor(private feedService: FeedService) {}\n\n  ngOnInit(): void {\n    this.loadFeed();\n  }\n\n  loadFeed(): void {\n    this.loading = true;\n    this.error = '';\n    \n    this.feedService.getFeed(this.currentPage).subscribe({\n      next: (response) => {\n        this.posts = [...this.posts, ...response.posts];\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Failed to load feed. Please check if you are logged in.';\n        this.loading = false;\n        console.error('Feed error:', err);\n      }\n    });\n  }\n\n  loadMore(): void {\n    this.currentPage++;\n    this.loadFeed();\n  }\n\n  formatDate(dateString: string): string {\n    return new Date(dateString).toLocaleDateString();\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}